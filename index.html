<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AfsanAGI</title>
<style>
body { font-family: Arial, sans-serif; background:#111; color:#eee; display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh; margin:0; }
textarea { width:90%; height:120px; padding:10px; font-size:16px; margin-bottom:10px; background:#222; color:#eee; border:none; border-radius:5px; }
button { padding:10px 20px; font-size:16px; background:#4caf50; color:#fff; border:none; border-radius:5px; cursor:pointer; }
#output { width:90%; margin-top:20px; padding:10px; background:#222; border-radius:5px; min-height:80px; white-space:pre-wrap; }
h2 { margin-bottom:20px; }
</style>
</head>
<body>

<h2>AfsanAGI - Mistral Free</h2>
<textarea id="prompt" placeholder="Ask me anything..."></textarea>
<button onclick="askAfsanAGI()">Ask</button>
<div id="output"></div>

<script>
async function askAfsanAGI() {
    const prompt = document.getElementById("prompt").value.trim();
    if(!prompt) return alert("Please type a prompt!");

    document.getElementById("output").innerText = "Loading...";

    try {
        const res = await fetch('/api/afsANagi', {
            method:'POST',
            headers:{ 'Content-Type':'application/json' },
            body: JSON.stringify({ prompt })
        });

        const data = await res.json();

        if(data.response) {
            document.getElementById("output").innerText = data.response;
        } else if(data.error) {
            document.getElementById("output").innerText = "Error: " + data.error;
        } else {
            document.getElementById("output").innerText = "No response received.";
        }

    } catch(e) {
        document.getElementById("output").innerText = "Error: "+ e.message;
    }
}
</script>

</body>
</html>
