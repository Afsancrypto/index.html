<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AfsanAGI</title>
<style>
body { font-family: Arial; background:#0f0f0f; color:#fff; display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; margin:0;}
#chat { width:90%; max-width:600px; background:#1e1e1e; padding:20px; border-radius:10px;}
#messages { height:300px; overflow-y:auto; margin-bottom:10px; border:1px solid #333; padding:10px; border-radius:5px;}
input, button { padding:10px; border-radius:5px; border:none; margin:2px; width: calc(100% - 24px);}
button { background:#4caf50; color:#fff; cursor:pointer;}
</style>
</head>
<body>

<div id="chat">
  <div id="messages"></div>
  <input type="text" id="prompt" placeholder="Type your message..." />
  <button onclick="sendPrompt()">Send</button>
</div>

<script>
async function sendPrompt() {
  const promptInput = document.getElementById('prompt');
  const messagesDiv = document.getElementById('messages');
  const prompt = promptInput.value.trim();
  if(!prompt) return;

  messagesDiv.innerHTML += `<div><b>You:</b> ${prompt}</div>`;
  promptInput.value = '';
  messagesDiv.scrollTop = messagesDiv.scrollHeight;

  try {
    const res = await fetch('/api/afsANagi', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ prompt })
    });

    const data = await res.json();
    messagesDiv.innerHTML += `<div><b>AfsanAGI:</b> ${data.response}</div>`;
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
  } catch(err) {
    messagesDiv.innerHTML += `<div style="color:red;">Error: ${err.message}</div>`;
  }
}
</script>

</body>
</html>
